% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dbUpsertData.R
\name{dbUpsertData}
\alias{dbUpsertData}
\title{Upsert Data into SQL Database}
\usage{
dbUpsertData(
  conn,
  new.data,
  schema.name = NULL,
  table.name,
  key.cols,
  timestamp.col,
  keep = "last",
  chunk.size = 10000L,
  check.schema = TRUE,
  verbose = TRUE,
  dialect
)
}
\arguments{
\item{conn}{A valid database connection object.}

\item{new.data}{A non-empty `data.frame` to insert.}

\item{schema.name}{Schema name. Defaults to "dbo" for mssql, "public" for postgres.}

\item{table.name}{Target table name.}

\item{key.cols}{Character vector of column names forming the primary key.}

\item{timestamp.col}{Column name used for conflict resolution.}

\item{keep}{"first" or "last"; whether to keep earliest or latest record on conflict.}

\item{chunk.size}{Number of rows per chunk. Default is `10000`.}

\item{check.schema}{Whether to validate schema compatibility. Default is `TRUE`.}

\item{verbose}{Whether to print progress messages. Default is `TRUE`.}

\item{dialect}{Character string specifying database dialect: "mssql" or "postgres".}
}
\value{
A `data.frame` transaction log.
}
\description{
Wrapper function that routes to the appropriate dialect-specific upsert
function based on the `dialect` parameter.
}
\examples{
\dontrun{
log.df <- dbUpsertData(
  conn = conn,
  new.data = events.df,
  table.name = "events",
  key.cols = "event_id",
  timestamp.col = "updated_at",
  dialect = "postgres"
)
}
}
